# v8wrap - v8 封装库

- [x] JsPlatform.hpp - Js 平台,管理 `JsRuntime` (`v8::Platform`)
- [x] JsRuntime.hpp - Js 运行时 (`v8::Isolate` + `v8::Global<v8::Context>`)
  - [x] 资源管理
  - [x] 绑定类注册
  - [x] C++构造 Js 类
  - [x] isInstanceOf 类型判定
  - [x] 解包获取原生实例（从绑定的类实例获取 Local<JsObject>）
- [x] JsRuntimeScope.hpp - v8 作用域封装 (`v8::Locker` + `v8::Isolate::Scope` + `v8::HandleScope` + `v8::Context::Scope`)
- [x] JsException.hpp - v8 异常封装，双向异常转换
- [x] JsValue.hpp - v8 值封装，双向值转换
  - [x] `JsValue` -> `v8::Value`
  - [x] `JsNull` -> `v8::Primitive`
  - [x] `JsUndefined` -> `v8::Primitive`
  - [x] `JsBoolean` -> `v8::Boolean`
  - [x] `JsNumber` -> `v8::Number`
  - [x] `JsBigInt` -> `v8::BigInt`
  - [x] `JsString` -> `v8::String`
  - [x] `JsSymbol` -> `v8::Symbol`
  - [x] `JsFunction` -> `v8::Function`
  - [x] `JsObject` -> `v8::Object`
  - [x] `JsArray` -> `v8::Array`
- [x] JsReference.hpp - v8 引用封装
  - [x] `Local<T>` -> `v8::Local<T>`
  - [x] `Global<T>` -> `v8::Global<T>`
  - [x] `Weak<T>` -> `v8::Global<T>`
- [x] TypeConverter.hpp - 类型转换器
  - [x] `bool` -> `JsBoolean`
  - [x] any number -> `JsNumber`
  - [x] `int64_t`/`uint64_t` -> `JsBigInt`
  - [x] any string -> `JsString`
  - [x] any enum -> `JsNumber`(cast to int)
  - [x] wrap type <-> JsValue
- [x] Native.hpp -> C++ 原生类型包装
  - [x] Holder C++资源持有
- [x] Bindings.hpp -> C++ 绑定
  - [x] 普通函数（重载支持）
  - [x] std::function（重载支持）
  - [x] lambda（重载支持）
  - [x] 可调用对象（重载支持）
  - [x] 类静态函数（重载支持）
  - [x] 类静态成员
  - [x] 类构造函数
  - [x] 类实例成员
  - [x] 类实例方法（重载支持）
  - [x] 类继承（基于 Js 原型链，不支持多继承）

## 参考项目

- [v8pp](https://github.com/pmed/v8pp)
- [ScriptX](https://github.com/Tencent/ScriptX)
- [quickjspp](https://github.com/ftk/quickjspp)
- [puerts_node](https://github.com/puerts/puerts_node)
